function setupCarousel(t,e){var a=$(e),n=$("<ul />").addClass("markers"),r=$("<button />").addClass("prev").html("&lsaquo;").on("click",function(){getPrev(a,!0)}),i=$("<button />").addClass("next").html("&rsaquo;").on("click",function(){getNext(a,!0)});setCtrHeight(a),enquire.register("screen and (min-width: 1600px)",{match:function(){setCtrHeight(a)},unmatch:function(){setCtrHeight(a)}}).register("screen and (min-width: 1200px)",{match:function(){setCtrHeight(a)},unmatch:function(){setCtrHeight(a)}}).register("screen and (min-width: 768px)",{match:function(){setCtrHeight(a)},unmatch:function(){setCtrHeight(a)}}).register("screen and (max-width: 768px)",{match:function(){setCtrHeight(a)},unmatch:function(){setCtrHeight(a)}}),a.find("li").each(function(t,e){var a=$(this);a.attr("id","image-"+t);var r=a.find("img");a.css({"background-image":"url("+r.attr("src")+")"}),r.hide();var i=$("<li />").html("&bull;").attr("data-marker","image-"+t);n.append(i)}),a.append(n).append(r).append(i),a.find(".markers").on("click",function(t){clearInterval(carouselInterval),$marker=$(t.target);var e=$marker.attr("data-marker");a.find(".active").removeClass("active"),$marker.addClass("active"),$("#"+e).addClass("active"),startCarousel(a)}),a.find("br").each(function(){$(this).remove()}),a.find("li:first-of-type").addClass("active"),startCarousel(a)}function setupPortfolio(t,e){$(e).find("img").each(function(t,e){var a=$(e);a.closest("li").css("background-image","url("+a.attr("src")+")"),a.hide()})}function getNext(t,e){var a=t.find(".active");a.removeClass("active"),(a.nextAll("li").length>0?a.next("li"):t.find("li:first-child")).addClass("active"),void 0!==e&&e===!0&&(clearInterval(carouselInterval),startCarousel(t))}function getPrev(t,e){var a=t.find(".active");a.removeClass("active"),(a.prevAll("li").length>0?a.prev("li"):t.find("li:last-child")).addClass("active"),void 0!==e&&e===!0&&(clearInterval(carouselInterval),startCarousel(t))}function showPoppin(){var t=$("<div id='newsletter-poppin' />").addClass("poppin"),e=$("<a />").attr("href","http://schanelyphotography.com/newsletter-signup/").html("Keep updated on promotions and special offers! Sign up for my newsletter &raquo;"),a=$("<button />").addClass("close").html("&times;").on("click",function(t){t.preventDefault(),$(t.target).closest(".poppin").removeClass("on"),$("body").removeClass("poppin-on")});t.append(e).append(a),$("body").prepend(t),setTimeout(function(){$("body").addClass("poppin-on"),t.addClass("on")},500)}function startCarousel(t){carouselInterval=setInterval(function(){getNext(t)},5e3)}function setCtrHeight(t){var e=t.outerWidth()/1.618-40;t.css("height",e),console.log(e)}var carouselInterval=null;$(function(){$(".carousel").each(setupCarousel),$(".portfolio-list").each(setupPortfolio),$("body").hasClass("page-home")&&showPoppin()});